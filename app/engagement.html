<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Engagement</title>
  <meta name="google-signin-client_id" content="911260228291-d2b7cjs7c0ajobjd6l89133tv4bmrcjb.apps.googleusercontent.com">
  <meta name="google-signin-scope" content="https://www.googleapis.com/auth/analytics.readonly">
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" href="http://static.ftchinese.com/img/ipad_icon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>



<p align=right>
  <!-- The Sign-in button. This will run `queryReports()` on success. -->
  <div class="g-signin2" data-onsuccess="queryDifferentReports"></div>
</p>

<div class="page-container" id="charts-container">
  <h1 class="page-title">Engagement</h1>
</div>


<!--
<script src="../bower_components/highcharts/highcharts.js"></script>
<script src="../bower_components/highcharts/modules/funnel.js"></script>


<script src="../bower_components/highcharts/highcharts-more.js"></script>
<script src="../bower_components/highmaps-beta/modules/map.js"></script>
<script src="../bower_components/highmaps-beta/modules/data.js"></script>
-->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/funnel.js"></script>
<script src="https://code.highcharts.com/modules/histogram-bellcurve.js"></script>
<script type="text/javascript" src="scripts/highcharts.js"></script>
<script type="text/javascript" src="scripts/main.js"></script>
<script src="scripts/addFeatureToTable.js"></script>



<script>
// MARK: - These are different in every page. 

// Replace with your view ID.
const VIEW_ID_All = '10995661'; 
const VIEW_ID_iPhoneApp = '108134561'; //
//var startDate = '2017-04-27';
// var endDate = '2017-05-16';

const  startDate = '90daysago';
const endDate = 'today';

const requestData0 = [
  {//Web和Android App和iPhoneApp用户总量
    'viewId': VIEW_ID_All,
    'dateRanges': [
      {
        'startDate': startDate,
        'endDate': endDate
      }
    ],
    'metrics': [
      {
        'expression': 'ga:users'
      }
    ]
  }
];
const requestData1 = [
  {// iPhone App用户总量
    'viewId': VIEW_ID_iPhoneApp,
    'dateRanges': [
      {
        'startDate': startDate,
        'endDate': endDate
      }
    ],
    'metrics': [
      {
        'expression': 'ga:users'
      }
    ]
  },
  {// buy success standard总数
    'viewId': VIEW_ID_iPhoneApp,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
    {
        'expression': 'ga:totalEvents'
    }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'In-App Purchase'//这个包括不限于Privilege
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                    'buy success'//加上buy success: com.ft.ftchinese.mobile.subscription.vip不一样
                    ],
                    'caseSensitive': true
                },
                {
                'dimensionName': 'ga:eventLabel',
                'operator': 'EXACT',
                'expressions': [
                    'com.ft.ftchinese.mobile.subscription.member'
                ],
                'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success premium总数
    'viewId': VIEW_ID_iPhoneApp,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
    {
        'expression': 'ga:totalEvents'
    }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'In-App Purchase'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                    'buy success'
                    ],
                    'caseSensitive': true
                }, 
                {
                    'dimensionName': 'ga:eventLabel',
                    'operator': 'EXACT',
                    'expressions': [
                        'com.ft.ftchinese.mobile.subscription.vip'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success standard daily
    'viewId': VIEW_ID_iPhoneApp,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
        {
            'expression': 'ga:totalEvents'
        }
    ],
    'dimensions': [
        {
            'name': 'ga:date'
        }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'In-App Purchase'//这个包括不限于Privilege
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                    'buy success'//加上buy success: com.ft.ftchinese.mobile.subscription.vip不一样
                    ],
                    'caseSensitive': true
                },
                {
                'dimensionName': 'ga:eventLabel',
                'operator': 'EXACT',
                'expressions': [
                    'com.ft.ftchinese.mobile.subscription.member'
                ],
                'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success premium daily
    'viewId': VIEW_ID_iPhoneApp,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
        {
            'expression': 'ga:totalEvents'
        }
    ],
    'dimensions': [
        {
            'name': 'ga:date'
        }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'In-App Purchase'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                    'buy success'
                    ],
                    'caseSensitive': true
                }, 
                {
                    'dimensionName': 'ga:eventLabel',
                    'operator': 'EXACT',
                    'expressions': [
                        'com.ft.ftchinese.mobile.subscription.vip'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  }
];

const requestData9 = [//Android App相关用户数据
  {// Android用户总量
    'viewId': VIEW_ID_All,
    'dateRanges': [
      {
        'startDate': startDate,
        'endDate': endDate
      }
    ],
    'metrics': [
      {
        'expression': 'ga:users'
      }
    ],
    'dimensionFilterClauses': [
      {
        'operator': 'AND',
        'filters': [
          {
            'dimensionName': 'ga:pagePath',
            'operator': 'REGEXP',
            'expressions': [
              '/phone/|phoneapp.html|phone.html|androidapp.html|iphone-2014.html|bb-2014.html|ftcapp'
            ],
            'caseSensitive': true
          },
          {
            'dimensionName': 'ga:operatingSystem',
            'operator': 'EXACT',
            'expressions': [
              'Android'
            ],
            'caseSensitive': true
          }
        ]
      }
    ]
  },
  {// buy success standard总数
    'viewId': VIEW_ID_All,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
        {
            'expression': 'ga:totalEvents'
        }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'Android Privileges'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                    'Buy success: ftc_standard'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success premium总数
    'viewId': VIEW_ID_All,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
    {
        'expression': 'ga:totalEvents'
    }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'Android Privileges'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                        'Buy success: ftc_premium'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success standard daily
    'viewId': VIEW_ID_All,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
        {
            'expression': 'ga:totalEvents'
        }
    ],
    'dimensions': [
        {
            'name': 'ga:date'
        }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                        'Android Privileges'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                        'Buy success: ftc_standard'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success premium daily
    'viewId': VIEW_ID_All,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
        {
            'expression': 'ga:totalEvents'
        }
    ],
    'dimensions': [
        {
            'name': 'ga:date'
        }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'Android Privileges'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                        'Buy success: ftc_premium'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  }
];

const requestData10 = [ //Web相关用户数据
 //总量可以根据总量-AndroidApp总量-iPhoneApp总量
  {// buy success standard总数
    'viewId': VIEW_ID_All,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
        {
            'expression': 'ga:totalEvents'
        }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'Web Privileges'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                    'Buy: Standard'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success premium总数
    'viewId': VIEW_ID_All,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
    {
        'expression': 'ga:totalEvents'
    }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'Web Privileges'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                        'Buy: Premium'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success standard daily
    'viewId': VIEW_ID_All,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
        {
            'expression': 'ga:totalEvents'
        }
    ],
    'dimensions': [
        {
            'name': 'ga:date'
        }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'Web Privileges'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                    'Buy: Standard'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  },
  {// buy success premium daily
    'viewId': VIEW_ID_All,
    'dateRanges': [
    {
        'startDate': startDate,
        'endDate': endDate
    }
    ],
    'metrics': [
        {
            'expression': 'ga:totalEvents'
        }
    ],
    'dimensions': [
        {
            'name': 'ga:date'
        }
    ],
    'dimensionFilterClauses': [
        {
            'operator': 'AND',
            'filters': [
                {
                    'dimensionName': 'ga:eventCategory',
                    'operator': 'EXACT',
                    'expressions': [
                    'Web Privileges'
                    ],
                    'caseSensitive': true
                },
                {
                    'dimensionName': 'ga:eventAction',
                    'operator': 'EXACT',
                    'expressions': [
                        'Buy: Premium'
                    ],
                    'caseSensitive': true
                }
            ]
        }
    ]
  }
];
const requestData2 = [//IPhoneApp转换的相关行为数据
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                        'Display'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Tap Subscription'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Pop Subscription'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.member'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.vip'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    }
];

const requestData11 = [//androidApp转换的相关行为数据
    {
        'viewId': VIEW_ID_All,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Android Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                        'Display'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_All,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Android Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Tap'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_All,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Android Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'Buy success: ftc_standard'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    },
    {
      'viewId': VIEW_ID_All,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Android Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'Buy success: ftc_premium'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    }
];

const requestData12 = [//web转换的相关行为数据
    {
        'viewId': VIEW_ID_All,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Web Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                        'Display'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_All,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Web Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Tap'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_All,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Web Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'Buy: Standard'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    },
    {
      'viewId': VIEW_ID_All,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Web Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'Buy: Premium'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    },
];

const requestData13 = [//web转换的相关行为数据
    {
      'viewId': VIEW_ID_All,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Web Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'Buy way: wxpay'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    },
    {
      'viewId': VIEW_ID_All,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Web Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'Buy way: ali'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    }
];


const requestData3 = [ //从premium这条转换线得到的相关行为数据
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                        'Display'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'BEGINS_WITH',
                        'expressions': [
                        'premium/'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Tap Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'BEGINS_WITH',
                        'expressions': [
                        'premium/'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Pop Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'BEGINS_WITH',
                        'expressions': [
                        'premium/'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.member'
              ],
              'caseSensitive': true
            },
            {
                'dimensionName': 'ga:eventLabel',
                'operator': 'BEGINS_WITH',
                'expressions': [
                'premium/'
                ],
                'caseSensitive': true
            }
          ]
        }
      ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.vip'
              ],
              'caseSensitive': true
            },
            {
                'dimensionName': 'ga:eventLabel',
                'operator': 'BEGINS_WITH',
                'expressions': [
                'premium/'
                ],
                'caseSensitive': true
            }
          ]
        }
      ]
    }
];

const requestData4 = [ //从EnglishAudio这条转换线得到的相关行为数据,注意它没有display这一项，也没有tap subscription
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Pop Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'BEGINS_WITH',
                        'expressions': [
                            'EnglishAudio/'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.member'
              ],
              'caseSensitive': true
            },
            {
                'dimensionName': 'ga:eventLabel',
                'operator': 'BEGINS_WITH',
                'expressions': [
                    'EnglishAudio/'
                ],
                'caseSensitive': true
            }
          ]
        }
      ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.vip'
              ],
              'caseSensitive': true
            },
            {
                'dimensionName': 'ga:eventLabel',
                'operator': 'BEGINS_WITH',
                'expressions': [
                'EnglishAudio/'
                ],
                'caseSensitive': true
            }
          ]
        }
      ]
    }
];

const requestData5 = [ //从story(编辑精选)这条转换线得到的相关行为数据
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                        'Display'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'BEGINS_WITH',
                        'expressions': [
                        'story/'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Tap Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'BEGINS_WITH',
                        'expressions': [
                        'story/'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:date'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Pop Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'BEGINS_WITH',
                        'expressions': [
                        'story/'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:date'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.vip'
              ],
              'caseSensitive': true
            },
            {
                'dimensionName': 'ga:eventLabel',
                'operator': 'BEGINS_WITH',
                'expressions': [
                'story/'
                ],
                'caseSensitive': true
            }
          ]
        }
      ]
    }
];

const requestData6 = [//以文章id划分的数据:premium线
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:eventLabel'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                        'Display'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'REGEXP',
                        'expressions': [
                            '^premium/[0-9]{9}$'
                        ],
                        'caseSensitive': true
                        }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:eventLabel'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Tap Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'REGEXP',
                        'expressions': [
                            '^premium/[0-9]{9}$'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:eventLabel'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Pop Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'REGEXP',
                        'expressions': [
                            '^premium/[0-9]{9}$'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:eventLabel'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.member'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventLabel',
              'operator': 'REGEXP',
              'expressions': [
                '^premium/[0-9]{9}$'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:eventLabel'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.vip'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventLabel',
              'operator': 'REGEXP',
              'expressions': [
                '^premium/[0-9]{9}$'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    }
];

const requestData7 = [//以文章id划分的数据:EnglishAudio线
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:eventLabel'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Pop Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'REGEXP',
                        'expressions': [
                            '^EnglishAudio/[0-9]{9}$'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:eventLabel'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.member'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventLabel',
              'operator': 'REGEXP',
              'expressions': [
                '^EnglishAudio/[0-9]{9}$'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:eventLabel'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.vip'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventLabel',
              'operator': 'REGEXP',
              'expressions': [
                '^EnglishAudio/[0-9]{9}$'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    }
];

const requestData8 = [//以文章id划分的数据:story(编辑精选)线
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:eventLabel'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                        'Display'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'REGEXP',
                        'expressions': [
                            '^story/[0-9]{9}$'
                        ],
                        'caseSensitive': true
                        }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:eventLabel'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Tap Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'REGEXP',
                        'expressions': [
                            '^story/[0-9]{9}$'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
        'viewId': VIEW_ID_iPhoneApp,
        'dateRanges': [
        {
            'startDate': startDate,
            'endDate': endDate
        }
        ],
        'metrics': [
            {
                'expression': 'ga:totalEvents'
            }
        ],
        'dimensions': [
            {
                'name': 'ga:eventLabel'
            }
        ],
        'dimensionFilterClauses': [
            {
                'operator': 'AND',
                'filters': [
                    {
                        'dimensionName': 'ga:eventCategory',
                        'operator': 'EXACT',
                        'expressions': [
                        'Privileges'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventAction',
                        'operator': 'EXACT',
                        'expressions': [
                            'Pop Subscription'
                        ],
                        'caseSensitive': true
                    },
                    {
                        'dimensionName': 'ga:eventLabel',
                        'operator': 'REGEXP',
                        'expressions': [
                            '^story/[0-9]{9}$'
                        ],
                        'caseSensitive': true
                    }
                ]
            }
        ]
    },
    {
      'viewId': VIEW_ID_iPhoneApp,
      'dateRanges': [
        {
          'startDate': startDate,
          'endDate': endDate
        }
      ],
      'metrics': [
        {
          'expression': 'ga:totalEvents'
        }
      ],
      'dimensions': [
        {
          'name': 'ga:eventLabel'
        }
      ],
      'dimensionFilterClauses': [
        {
          'operator': 'AND',
          'filters': [
            {
              'dimensionName': 'ga:eventCategory',
              'operator': 'EXACT',
              'expressions': [
                'Privileges'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventAction',
              'operator': 'EXACT',
              'expressions': [
                'buy success: com.ft.ftchinese.mobile.subscription.vip'
              ],
              'caseSensitive': true
            },
            {
              'dimensionName': 'ga:eventLabel',
              'operator': 'REGEXP',
              'expressions': [
                '^story/[0-9]{9}$'
              ],
              'caseSensitive': true
            }
          ]
        }
      ]
    }
];


const requestDataArr = [requestData0, requestData1, requestData2,requestData3, requestData4, requestData5, requestData6,requestData7, requestData8, requestData9, requestData10, requestData11, requestData12, requestData13];
const responseDataArr = [];



async function drawCharts(responseDataArr) {
   
  var chartId;

  //MARK:1. 金字塔图 for iPhoneApp
  
    const allUsers = Number(responseDataArr[0].reports[0].data.rows[0].metrics[0].values[0]);//总用户数

    const iPhoneAppAllUsers = Number(responseDataArr[1].reports[0].data.rows[0].metrics[0].values[0]);//iPhoneApp用户数
    const iPhoneAppStandardUsers = Number(responseDataArr[1].reports[1].data.rows[0].metrics[0].values[0]);//standard会员数
    const iPhoneAppPremiumUsers = Number(responseDataArr[1].reports[2].data.rows[0].metrics[0].values[0]);//premium会员数

    const iPhoneAppRestUsers = iPhoneAppAllUsers-iPhoneAppStandardUsers-iPhoneAppPremiumUsers;//iPhoneApp用户中还未订阅的用户数，即金字塔第1级
   // const standardUsers = Number(iPhoneAppStandardUsers);//standard会员数，即金字塔第2级  
    //const premiumUsers = Number(iPhoneAppPremiumUsers);//premium会员数，即金字塔第3级
   
    chartId = createChart();
    const  pyramidForIPhoneApp = new Highcharts.Chart({
        chart: {
            type: 'pyramid',
            renderTo: chartId
        },
        title: {
            text: 'Engagement pyramid for iPhoneApp'
        },
        plotOptions: {
            series: {
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b> ({point.y:,.0f})',
                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',
                    softConnector: true
                },
                center: ['40%', '50%'],
                width: '80%'
            }
        },
        legend: {
            enabled: false
        },
        series: [{
        name: 'Unique users',
        data: [
            ['Rest Users', iPhoneAppRestUsers], //9074799
            ['Standard Users', iPhoneAppStandardUsers],
            ['Premium Users',  iPhoneAppPremiumUsers]
        ]
        }]
    });
    
  //MARK:1-2.金字塔图 for AndroidApp

    const androidAppAllUsers = Number(responseDataArr[9].reports[0].data.rows[0].metrics[0].values[0]);//总用户数
    console.log('androidAppAllUsers:', androidAppAllUsers);
    const androidAppStandardUsers = Number(responseDataArr[9].reports[1].data.rows[0].metrics[0].values[0]);//standard会员数。即金字塔第2级
    console.log('androidAppStandardUsers:', androidAppStandardUsers);
    const androidAppPremiumUsers = Number(responseDataArr[9].reports[2].data.rows[0].metrics[0].values[0]);//premium会员数。即金字塔第3级
    console.log('androidAppPremiumUsers:',androidAppPremiumUsers);

    const androidAppRestUsers = androidAppAllUsers - androidAppStandardUsers - androidAppPremiumUsers; //剩余用户数。即金字塔第1级
    
    chartId = createChart();
    var  pyramidForAndroidApp = new Highcharts.Chart({
        chart: {
            type: 'pyramid',
            renderTo: chartId
        },
        title: {
            text: 'Engagement pyramid for AndroindApp'
        },
        plotOptions: {
            series: {
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b> ({point.y:,.0f})',
                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',
                    softConnector: true
                },
                center: ['40%', '50%'],
                width: '80%'
            }
        },
        legend: {
            enabled: false
        },
        series: [{
            name: 'Unique users',
            data: [
                ['Rest Users', androidAppRestUsers], 
                ['Standard Users', androidAppStandardUsers],
                ['Premium Users',  androidAppPremiumUsers]
            ]
        }]
    });
    
 //MARK:1-3.金字塔图 for Web

    const webAllUsers = allUsers - androidAppAllUsers - iPhoneAppAllUsers ;//总用户数
    console.log('webAllUsers:', webAllUsers);
    const webStandardUsers = Number(responseDataArr[10].reports[0].data.rows[0].metrics[0].values[0]);//standard会员数。即金字塔第2级
    console.log('webStandardUsers:', webStandardUsers);
    // console.log('responseDataArr[10]:');
    // console.log(JSON.stringify(responseDataArr[10]));
    const webPremiumUsers = Number(responseDataArr[10].reports[1].data.rows[0].metrics[0].values[0]);//premium会员数。即金字塔第3级
    console.log('webPremiumUsers:',webPremiumUsers);

    const webRestUsers = webAllUsers - webStandardUsers - webPremiumUsers; //剩余用户数。即金字塔第1级

    chartId = createChart();
    const  pyramidForWeb = new Highcharts.Chart({
        chart: {
            type: 'pyramid',
            renderTo: chartId
        },
        title: {
            text: 'Engagement pyramid for Web'
        },
        plotOptions: {
            series: {
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b> ({point.y:,.0f})',
                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',
                    softConnector: true
                },
                center: ['40%', '50%'],
                width: '80%'
            }
        },
        legend: {
            enabled: false
        },
        series: [{
            name: 'Unique users',
            data: [
                ['Rest Users', webRestUsers], 
                ['Standard Users', webStandardUsers],
                ['Premium Users', webPremiumUsers]
            ]
        }]
    });

  //MARK:1-4.金字塔图 for all
 
    const allStandardUsers = iPhoneAppStandardUsers + androidAppStandardUsers + webStandardUsers;
    const allPremiumUsers = iPhoneAppPremiumUsers + androidAppPremiumUsers + webPremiumUsers;
    const allRestUsers = allUsers - allStandardUsers - allPremiumUsers;

    chartId = createChart();
    const  pyramidForAll = new Highcharts.Chart({
        chart: {
            type: 'pyramid',
            renderTo: chartId
        },
        title: {
            text: 'Engagement pyramid for All'
        },
        plotOptions: {
            series: {
                dataLabels: {
                    enabled: true,
                    format: '<b>{point.name}</b> ({point.y:,.0f})',
                    color: (Highcharts.theme && Highcharts.theme.contrastTextColor) || 'black',
                    softConnector: true
                },
                center: ['40%', '50%'],
                width: '80%'
            }
        },
        legend: {
            enabled: false
        },
        series: [{
            name: 'Unique users',
            data: [
                ['Rest Users', allRestUsers], 
                ['Standard Users', allStandardUsers],
                ['Premium Users',  allPremiumUsers]
            ]
        }]
    });

    
  //MARK:2. New Subscriptions 条形图
    const keysNewSub = responseDataArr[1].reports[3].data.rows.map(row => row.dimensions[0]);

    const iPhoneAppNewStandard = extractDataFromGAAPI(responseDataArr[1].reports[3].data.rows, keysNewSub);
    const iPhoneAppNewPremium = extractDataFromGAAPI(responseDataArr[1].reports[4].data.rows, keysNewSub);

    const andoridAppNewStandard = extractDataFromGAAPI(responseDataArr[9].reports[3].data.rows, keysNewSub);
    const andoridAppNewPremium = extractDataFromGAAPI(responseDataArr[9].reports[4].data.rows, keysNewSub);

    const webNewStandard = extractDataFromGAAPI(responseDataArr[10].reports[2].data.rows, keysNewSub);
    const webNewPremium = extractDataFromGAAPI(responseDataArr[10].reports[3].data.rows, keysNewSub);

   
    chartId = createChart();
    var newSubscriptionChart = new Highcharts.Chart({
        chart: {
            type: 'column',
            renderTo: chartId
        },
        title: {
            text: 'New Subscription'
        },
        xAxis: {
            categories: keysNewSub,
            tickmarkPlacement: 'on',
            title: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: 'Value'
            },
            //max: 100,
            //min: Math.min.apply(null, successRates)
        },
        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y:.1f}</b><br/>',
            shared: true
        },
        series: [{
            name: 'iPhoneAppStandard'+' (Average: ' + meanOfAll(iPhoneAppNewStandard) +')',
            data: iPhoneAppNewStandard
        },{
            name: 'iPhoneAppPremium'+' (Average: ' + meanOfAll(iPhoneAppNewPremium) +')',
            data: iPhoneAppNewPremium
        },{
            name: 'andoridAppStandard'+' (Average: ' + meanOfAll(andoridAppNewStandard) +')',
            data: andoridAppNewStandard
        },{
            name: 'andoridAppPremium'+' (Average: ' + meanOfAll(andoridAppNewPremium) +')',
            data: andoridAppNewPremium
        },{
            name: 'webStandard'+' (Average: ' + meanOfAll(webNewStandard) +')',
            data: webNewStandard
        },{
            name: 'webPremium'+' (Average: ' + meanOfAll(webNewPremium) +')',
            data: webNewPremium
        }],
        credits: {
            enabled: false
        },
        legend: {
            enabled: true
        }
    });

  //MARK:3-1. iPhoneApp display,tap checked,pop checked, buy seccess of standard, buy success of premium 条形图
    var keys = responseDataArr[2].reports[0].data.rows.map(row => row.dimensions[0]);

    var iPhoneAppDisplayed = extractDataFromGAAPI(responseDataArr[2].reports[0].data.rows, keys);
    var iPhoneAppTapChecked = extractDataFromGAAPI(responseDataArr[2].reports[1].data.rows, keys);
    var iPhoneAppPopChecked = extractDataFromGAAPI(responseDataArr[2].reports[2].data.rows, keys);
    var iPhoneAppBuySuccessOfStandard = extractDataFromGAAPI(responseDataArr[2].reports[3].data.rows, keys);
    var iPhoneAppBuySuccessOfPremium = extractDataFromGAAPI(responseDataArr[2].reports[4].data.rows, keys);
    chartId = createChart();
    var engagementPerformanceChart = new Highcharts.Chart({
        chart: {
            type: 'column',
            renderTo: chartId
        },
        title: {
            text: 'Engagement Daily For iPhoneApp'
        },
        xAxis: {
            categories: keys,
            tickmarkPlacement: 'on',
            title: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: 'Value'
            },
            //max: 100,
            //min: Math.min.apply(null, successRates)
        },
        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y:.1f}</b><br/>',
            shared: true
        },
        series: [
        {
            name: 'Displayed'+' (Average: ' + averageOfArray(iPhoneAppDisplayed) +')',
            data: iPhoneAppDisplayed
        },{
            name: 'Tap Checked'+' (Average: ' + averageOfArray(iPhoneAppTapChecked) +')',
            data: iPhoneAppTapChecked
        },{
            name: 'Pop Checked'+' (Average: ' + averageOfArray(iPhoneAppPopChecked) +')',
            data: iPhoneAppPopChecked
        },{
            name: 'Standard'+' (Average: ' + averageOfArray(iPhoneAppBuySuccessOfStandard) +')',
            data: iPhoneAppBuySuccessOfStandard
        },{
            name: 'Premium'+' (Average: ' + averageOfArray(iPhoneAppBuySuccessOfPremium) +')',
            data: iPhoneAppBuySuccessOfPremium
        }],
        credits: {
            enabled: false
        },
        legend: {
            enabled: true
        }
    });

//MARK:3-2. androidApp display,tap checked,pop checked, buy seccess of standard, buy success of premium 条形图
    var androidAppDisplayed = extractDataFromGAAPI(responseDataArr[11].reports[0].data.rows, keys);
    var androidAppTapChecked = extractDataFromGAAPI(responseDataArr[11].reports[1].data.rows, keys);
    var androidAppBuySuccessOfStandard = extractDataFromGAAPI(responseDataArr[11].reports[2].data.rows, keys);
    var androidAppBuySuccessOfPremium = extractDataFromGAAPI(responseDataArr[11].reports[3].data.rows, keys);
    chartId = createChart();
    var engagementPerformanceChart = new Highcharts.Chart({
        chart: {
            type: 'column',
            renderTo: chartId
        },
        title: {
            text: 'Engagement Daily For androidApp'
        },
        xAxis: {
            categories: keys,
            tickmarkPlacement: 'on',
            title: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: 'Value'
            },
            //max: 100,
            //min: Math.min.apply(null, successRates)
        },
        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y:.1f}</b><br/>',
            shared: true
        },
        series: [
        {
            name: 'Displayed'+' (Average: ' + averageOfArray(androidAppDisplayed) +')',
            data: androidAppDisplayed
        },{
            name: 'Tap Checked'+' (Average: ' + averageOfArray(androidAppTapChecked) +')',
            data: androidAppTapChecked
        },{
            name: 'Standard'+' (Average: ' + averageOfArray(androidAppBuySuccessOfStandard) +')',
            data: androidAppBuySuccessOfStandard
        },{
            name: 'Premium'+' (Average: ' + averageOfArray(androidAppBuySuccessOfPremium) +')',
            data: androidAppBuySuccessOfPremium
        }],
        credits: {
            enabled: false
        },
        legend: {
            enabled: true
        }
    });

  //MARK:3-3. Web display,tap checked,pop checked, buy seccess of standard, buy success of premium 条形图
    var webDisplayed = extractDataFromGAAPI(responseDataArr[12].reports[0].data.rows, keys);
    var webTapChecked = extractDataFromGAAPI(responseDataArr[12].reports[1].data.rows, keys);
    var webBuyOfStandard = extractDataFromGAAPI(responseDataArr[12].reports[2].data.rows, keys);
    var webBuyOfPremium = extractDataFromGAAPI(responseDataArr[12].reports[3].data.rows, keys);
    var webBuyByWx = extractDataFromGAAPI(responseDataArr[13].reports[0].data.rows, keys);
    var webBuyByAli = extractDataFromGAAPI(responseDataArr[13].reports[1].data.rows, keys);
    chartId = createChart();
    var engagementPerformanceChart = new Highcharts.Chart({
        chart: {
            type: 'column',
            renderTo: chartId
        },
        title: {
            text: 'Engagement Daily For web'
        },
        xAxis: {
            categories: keys,
            tickmarkPlacement: 'on',
            title: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: 'Value'
            },
            //max: 100,
            //min: Math.min.apply(null, successRates)
        },
        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y:.1f}</b><br/>',
            shared: true
        },
        series: [
        {
            name: 'Displayed'+' (Average: ' + averageOfArray(webDisplayed) +')',
            data: webDisplayed
        },{
            name: 'Tap Checked'+' (Average: ' + averageOfArray(webTapChecked) +')',
            data: webTapChecked
        },{
            name: 'Standard'+' (Average: ' + averageOfArray(webBuyOfStandard) +')',
            data: webBuyOfStandard
        },{
            name: 'Premium'+' (Average: ' + averageOfArray(webBuyOfPremium) +')',
            data: webBuyOfPremium
        },{
            name: 'ByWx'+' (Average: ' + averageOfArray(webBuyByWx) +')',
            data: webBuyByWx
        },{
            name: 'ByAli'+' (Average: ' + averageOfArray(webBuyByAli) +')',
            data: webBuyByAli
        }],
        credits: {
            enabled: false
        },
        legend: {
            enabled: true
        }
    });
   
  //MARK:4. 以上5个指标在label:premium这条线的数据,即是从首页的付费文章点进去
    var displayedFromPaidstory = extractDataFromGAAPI(responseDataArr[3].reports[0].data.rows, keys);
    var tapCheckedFromPaidstory = extractDataFromGAAPI(responseDataArr[3].reports[1].data.rows, keys);
    var popCheckedFromPaidstory = extractDataFromGAAPI(responseDataArr[3].reports[2].data.rows, keys);
    var buySuccessOfStandardFromPaidstory = extractDataFromGAAPI(responseDataArr[3].reports[3].data.rows, keys);
    var buySuccessOfPremiumFromPaidstory = extractDataFromGAAPI(responseDataArr[3].reports[4].data.rows, keys);
  
    chartId = createChart();
    var engagementPerformanceFromPaidstoryChart = new Highcharts.Chart({
        chart: {
            type: 'column',
            renderTo: chartId
        },
        title: {
            text: 'Engagement From Paidstory'
        },
        xAxis: {
            categories: keys,
            tickmarkPlacement: 'on',
            title: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: 'Value'
            },
            //max: 100,
            //min: Math.min.apply(null, successRates)
        },
        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y:.1f}</b><br/>',
            shared: true
        },
        series: [
        {
            name: 'Displayed'+' (Average: ' + averageOfArray(displayedFromPaidstory) +')',
            data: displayedFromPaidstory
        },{
            name: 'Tap Checked'+' (Average: ' + averageOfArray(tapCheckedFromPaidstory) +')',
            data: tapCheckedFromPaidstory
        },{
            name: 'Pop Checked'+' (Average: ' + averageOfArray(popCheckedFromPaidstory) +')',
            data: popCheckedFromPaidstory
        },{
            name: 'Standard'+' (Average: ' + averageOfArray(buySuccessOfStandardFromPaidstory) +')',
            data: buySuccessOfStandardFromPaidstory
        },{
            name: 'Premium'+' (Average: ' + averageOfArray(buySuccessOfPremiumFromPaidstory) +')',
            data: buySuccessOfPremiumFromPaidstory
        }],
        credits: {
            enabled: false
        },
        legend: {
            enabled: true
        }
    });

  //MARK:5. label:premium的每篇文章数据表格
        //console.log(responseDataArr[6].reports[0]);
        var labelKeys =  responseDataArr[6].reports[0].data.rows.map(row => row.dimensions[0]);
        //console.log(labelKeys);
        /*
            var displayedEachStory = extractDataFromGAAPI(responseDataArr[6].reports[0].data.rows, labelKeys);
            var tapCheckedEachStory = extractDataFromGAAPI(responseDataArr[6].reports[1].data.rows, labelKeys);
            var popCheckedEachStory = extractDataFromGAAPI(responseDataArr[6].reports[2].data.rows, labelKeys);
            var buySuccessOfStandardEachStory = extractDataFromGAAPI(responseDataArr[6].reports[3].data.rows, labelKeys);
            var buySuccessOfPremiumEachStory = extractDataFromGAAPI(responseDataArr[6].reports[4].data.rows, labelKeys);
        */
        var objData = extractObjData(responseDataArr[6].reports, ["story","disp","tap","pop","buySucS","buySucP"], labelKeys,"buySucS");

        var newObjData = addPropsToData(objData, [{
            operateFunc:divide,
            prop1:"tap",
            prop2:"disp",
            propNew:"tap/disp"
          },{
            operateFunc:divide,
            prop1:"pop",
            prop2:"tap",
            propNew:"pop/tap"
          },{
            operateFunc:divide,
            prop1:"buySucS",
            prop2:"pop",
            propNew:"buySucS/pop"
          },{
            operateFunc:divide,
            prop1:"buySucS",
            prop2:"disp",
            propNew:"buySucS/disp"
          }
        ]);
        /* 
        var newObjDataWithStatis = addStatisRowToData(newObjData,[
            {
                rowNameValue:"sum",
                rowNameKey:"story",
                operateFunc:sumOfAll,
                propsArr:["disp","tap","pop","buySucS","buySucP"]
            },{
                rowNameValue:"mean",
                rowNameKey:"story",
                operateFunc:meanOfAll,
                propsArr:["disp","tap","pop","buySucS","buySucP","tap/disp","pop/tap","buySucS/pop","buySucS/disp"]
            },{
                rowNameValue:"median",
                rowNameKey:"story",
                operateFunc:medianOfAll,
                propsArr:["disp","tap","pop","buySucS","buySucP","tap/disp","pop/tap","buySucS/pop","buySucS/disp"]
            }
        ])
        console.log(newObjDataWithStatis);
        */
        createNormalTable(newObjData, ["story","disp","tap","pop","buySucS","buySucP","tap/disp","pop/tap","buySucS/pop","buySucS/disp"],["disp","tap","pop","buySucS","buySucP"]);


  //MARK:6. 3个指标在label:EnglishAudio这条线的数据,即是从首页的付费文章点进去
 
    var popCheckedFromEnglishAudio = extractDataFromGAAPI(responseDataArr[4].reports[0].data.rows, keys);
    var buySuccessOfStandardFromEnglishAudio = extractDataFromGAAPI(responseDataArr[4].reports[1].data.rows, keys);
    var buySuccessOfPremiumFromEnglishAudio = extractDataFromGAAPI(responseDataArr[4].reports[2].data.rows, keys);
  
    chartId = createChart();
    var engagementPerformanceFromEnglishAudioChart = new Highcharts.Chart({
        chart: {
            type: 'column',
            renderTo: chartId
        },
        title: {
            text: 'Engagement From EnglishAudio'
        },
        xAxis: {
            categories: keys,
            tickmarkPlacement: 'on',
            title: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: 'Value'
            },
            //max: 100,
            //min: Math.min.apply(null, successRates)
        },
        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y:.1f}</b><br/>',
            shared: true
        },
        series: [
        {
            name: 'Pop Checked'+' (Average: ' + averageOfArray(popCheckedFromEnglishAudio) +')',
            data: popCheckedFromEnglishAudio
        },{
            name: 'Standard'+' (Average: ' + averageOfArray(buySuccessOfStandardFromEnglishAudio) +')',
            data: buySuccessOfStandardFromEnglishAudio
        },{
            name: 'Premium'+' (Average: ' + averageOfArray(buySuccessOfPremiumFromEnglishAudio) +')',
            data: buySuccessOfPremiumFromEnglishAudio
        }],
        credits: {
            enabled: false
        },
        legend: {
            enabled: true
        }
    });
  
  //MARK:7. label:EnglishAudio的每篇文章数据表格
    var labelKeysForEnglishAudio =  responseDataArr[7].reports[0].data.rows.map(row => row.dimensions[0]);
            //console.log(labelKeys);
    /*
        var popCheckedEachEnglishAudio = extractDataFromGAAPI(responseDataArr[7].reports[0].data.rows, labelKeysForEnglishAudio);
        var buySuccessOfStandardEachEnglishAudio = extractDataFromGAAPI(responseDataArr[7].reports[1].data.rows, labelKeysForEnglishAudio);
        var buySuccessOfPremiumEachEnglishAudio = extractDataFromGAAPI(responseDataArr[7].reports[2].data.rows, labelKeysForEnglishAudio);
    */
    //console.log(buySuccessOfStandardEachStory);

    var objDataForEnglishAudio = extractObjData(responseDataArr[7].reports, ["story","popChecked","buySuccessOfStandard","buySuccessOfPremium"], labelKeysForEnglishAudio,"buySuccessOfStandard");

    createNormalTable(objDataForEnglishAudio, ["story","popChecked","buySuccessOfStandard","buySuccessOfPremium"],["popChecked","buySuccessOfStandard","buySuccessOfPremium"]);
  
  //MARK:8. label:story这条线的数据,即是从“编辑精选”点进去的。注意这里只有premium购买，没有standard购买
   
    var displayedFromEditSelect = extractDataFromGAAPI(responseDataArr[5].reports[0].data.rows, keys);
    var tapCheckedFromEditSelect = extractDataFromGAAPI(responseDataArr[5].reports[1].data.rows, keys);
    var popCheckedFromEditSelect = extractDataFromGAAPI(responseDataArr[5].reports[2].data.rows, keys);
    var buySuccessOfPremiumFromEditSelect = extractDataFromGAAPI(responseDataArr[5].reports[3].data.rows, keys);
  
    chartId = createChart();
    var engagementPerformanceFromEditSelectChart = new Highcharts.Chart({
        chart: {
            type: 'column',
            renderTo: chartId
        },
        title: {
            text: 'Engagement From EditSelect'
        },
        xAxis: {
            categories: keys,
            tickmarkPlacement: 'on',
            title: {
                enabled: false
            }
        },
        yAxis: {
            title: {
                text: 'Value'
            },
            //max: 100,
            //min: Math.min.apply(null, successRates)
        },
        tooltip: {
            pointFormat: '<span style="color:{series.color}">{series.name}</span>: <b>{point.y:.1f}</b><br/>',
            shared: true
        },
        series: [
        {
            name: 'Displayed'+' (Average: ' + averageOfArray(displayedFromEditSelect) +')',
            data: displayedFromEditSelect
        },{
            name: 'Tap Checked'+' (Average: ' + averageOfArray(tapCheckedFromEditSelect) +')',
            data: tapCheckedFromEditSelect
        },{
            name: 'Pop Checked'+' (Average: ' + averageOfArray(popCheckedFromEditSelect) +')',
            data: popCheckedFromEditSelect
        },{
            name: 'Premium'+' (Average: ' + averageOfArray(buySuccessOfPremiumFromEditSelect) +')',
            data: buySuccessOfPremiumFromEditSelect
        }],
        credits: {
            enabled: false
        },
        legend: {
            enabled: true
        }
    });

  //MARK:9. label:story的每篇文章数据表格
    var labelKeysForEditSelect =  responseDataArr[8].reports[0].data.rows.map(row => row.dimensions[0]);
    /*
        var displayEachEditSelect = extractDataFromGAAPI(responseDataArr[8].reports[0].data.rows, labelKeysForEditSelect);
        var tapCheckedEachEditSelect = extractDataFromGAAPI(responseDataArr[8].reports[1].data.rows, labelKeysForEditSelect);
        var popCheckedEachEditSelect = extractDataFromGAAPI(responseDataArr[8].reports[2].data.rows, labelKeysForEditSelect);
        var buySuccessOfPremiumEachEditSelect = extractDataFromGAAPI(responseDataArr[8].reports[3].data.rows, labelKeysForEditSelect);
    */
    //console.log(buySuccessOfStandardEachStory);

    var objDataForEditSelect = extractObjData(responseDataArr[8].reports, ["story","display","tapChecked","popChecked","buySuccessOfPremium"], labelKeysForEditSelect,"buySuccessOfPremium");

    createNormalTable(objDataForEditSelect, ["story","display","tapChecked","popChecked","buySuccessOfPremium"],["display","tapChecked","popChecked","buySuccessOfPremium"]);
  
  //TODO：相关性分析等

 
 //MARK:9. 各级用户S/F/V/R指标分布图
 /*
  const engagementData = await getStoredDataFile('../data/engagementData.json');
  //console.log(engagementData);
  //console.log(JSON.stringify(engagementData));
  const SDataSet = [];
  const FDataSet = [];
  const VDataSet = [];
  const RDataSet = [];
  for(const oneDataItem of engagementData){
    const S = oneDataItem.S;
    const F = oneDataItem.F;
    const V = oneDataItem.V;
    const R = oneDataItem.R;
    SDataSet.push(S);
    FDataSet.push(F);
    VDataSet.push(V);
    RDataSet.push(R);
  }
  //S的分布图
  //console.log(SDataSet);
  chartId = createChart();
  Highcharts.chart(chartId, {
    title: {
        text: 'Bell curve'
    },

    xAxis: [{
        title: {
            text: 'Data'
        },
        alignTicks: false
    }, {
        title: {
            text: 'Bell curve'
        },
        alignTicks: false,
        opposite: true
    }],

    yAxis: [{
        title: { text: 'Data' }
    }, {
        title: { text: 'Bell curve' },
        opposite: true
    }],

    series: [{
        name: 'Bell curve',
        type: 'bellcurve',
        xAxis: 1,
        yAxis: 1,
        baseSeries: 1,
        zIndex: -1
    }, {
        name: 'Data',
        type: 'scatter',
        data: SDataSet,
        marker: {
            radius: 1.5
        }
    }]
  });

  //F的分布图
  //console.log(FDataSet);
  chartId = createChart();
  Highcharts.chart(chartId, {
    title: {
        text: 'Bell curve'
    },

    xAxis: [{
        title: {
            text: 'Data'
        },
        alignTicks: false
    }, {
        title: {
            text: 'Bell curve'
        },
        alignTicks: false,
        opposite: true
    }],

    yAxis: [{
        title: { text: 'Data' }
    }, {
        title: { text: 'Bell curve' },
        opposite: true
    }],

    series: [{
        name: 'Bell curve',
        type: 'bellcurve',
        xAxis: 1,
        yAxis: 1,
        baseSeries: 1,
        zIndex: -1
    }, {
        name: 'Data',
        type: 'scatter',
        data: FDataSet,
        marker: {
            radius: 1.5
        }
    }]
  });
    */
   addFeatureToTable();
   
}
// 分布图绘制Demo:http://jsfiddle.net/gh/get/library/pure/highcharts/highcharts/tree/master/samples/highcharts/demo/bellcurve/

</script>




<!-- Load the JavaScript API client and Sign-in library. -->
<script src="https://apis.google.com/js/client:platform.js"></script>


</body>
</html>